---
import Presentation from "../../components/Presentation.astro";
import Divider from "../../components/ui/Divider.astro";
import ListItem from "../../components/ui/ListItem.astro";
import Layout from "../../layouts/Layout.astro";
import { Code } from "astro-expressive-code/components";

//#region CodeSnippets

const Figure1 = `// Figure 1 — File Scanner setup (read-only)
// This reads from a text file in your project folder.

import java.io.File;
import java.util.Scanner;

public class Program
{
    public static void main(String[] args) throws Exception
    {
        File file = new File("numbers.txt");
        Scanner input = new Scanner(file);

        while (input.hasNextInt())
        {
            int value = input.nextInt();
            System.out.println(value);
        }

        input.close();
    }
}
`;

const Figure2 = `// Figure 2 — hasNext vs next
// Always check BEFORE you read.

while (input.hasNext())
{
    String token = input.next();
    // token is the next "word" in the file
}
`;

const Figure3 = `// Figure 3 — Reading a fixed amount into an array
// If you know how many values are in the file.

int[] data = new int[10];

for (int i = 0; i < data.length; i++)
{
    data[i] = input.nextInt();
}
`;

const Figure4 = `// Figure 4 — Helpful utilities used in this activity

public static void printArray(int[] arr)
{
    for (int v : arr)
    {
        System.out.print(v + " ");
    }
    System.out.println();
}

public static int sum(int[] arr)
{
    int total = 0;

    for (int v : arr)
    {
        total += v;
    }

    return total;
}

public static int max(int[] arr)
{
    int best = arr[0];

    for (int i = 1; i < arr.length; i++)
    {
        if (arr[i] > best)
        {
            best = arr[i];
        }
    }

    return best;
}

public static int min(int[] arr)
{
    int best = arr[0];

    for (int i = 1; i < arr.length; i++)
    {
        if (arr[i] < best)
        {
            best = arr[i];
        }
    }

    return best;
}
`;

const Task1 = `// Task 1 — Numbers from a file (warmup)
//
// Create a file named: numbers.txt
// Put ONE integer per line.
//
// Example file contents:
// 12
// 5
// 19
// 8
// 3
//
// Program requirements:
// 1) Read every number from numbers.txt
// 2) Print each number as it is read
// 3) Keep a running count of how many numbers were read
// 4) Print: "Count: X" at the end

import java.io.File;
import java.util.Scanner;

public class Program
{
    public static void main(String[] args) throws Exception
    {
        File file = new File("numbers.txt");
        Scanner input = new Scanner(file);

        int count = 0;

        while (input.hasNextInt())
        {
            int value = input.nextInt();
            System.out.println(value);
            count++;
        }

        System.out.println("Count: " + count);

        input.close();
    }
}
`;

const Task2 = `// Task 2 — Fixed-size file into an array + stats
//
// Create a file named: scores10.txt
// Put EXACTLY 10 integers (one per line).
//
// Program requirements:
// 1) Read all 10 numbers into an int[] array of length 10
// 2) Print the array on one line
// 3) Print the sum, average, min, and max
//
// Hint: average should be a double.

import java.io.File;
import java.util.Scanner;

public class Program
{
    public static void main(String[] args) throws Exception
    {
        File file = new File("scores10.txt");
        Scanner input = new Scanner(file);

        int[] scores = new int[10];

        for (int i = 0; i < scores.length; i++)
        {
            scores[i] = input.nextInt();
        }

        input.close();

        printArray(scores);

        int total = sum(scores);
        double avg = (double) total / scores.length;

        System.out.println("Sum: " + total);
        System.out.println("Average: " + avg);
        System.out.println("Min: " + min(scores));
        System.out.println("Max: " + max(scores));
    }

    public static void printArray(int[] arr)
    {
        for (int v : arr)
        {
            System.out.print(v + " ");
        }
        System.out.println();
    }

    public static int sum(int[] arr)
    {
        int total = 0;

        for (int v : arr)
        {
            total += v;
        }

        return total;
    }

    public static int max(int[] arr)
    {
        int best = arr[0];

        for (int i = 1; i < arr.length; i++)
        {
            if (arr[i] > best)
            {
                best = arr[i];
            }
        }

        return best;
    }

    public static int min(int[] arr)
    {
        int best = arr[0];

        for (int i = 1; i < arr.length; i++)
        {
            if (arr[i] < best)
            {
                best = arr[i];
            }
        }

        return best;
    }
}
`;

const Task3 = `// Task 3 — Sorting file data (Selection or Insertion, your choice)
//
// Reuse scores10.txt from Task 2.
//
// Program requirements:
// 1) Read the 10 scores into an array
// 2) Make a COPY of the array (so you preserve original order)
// 3) Sort the copy using selectionSort OR insertionSort (from Activity 5.8)
// 4) Print both arrays:
//    - Original
//    - Sorted copy
//
// NOTE: Do NOT use Arrays.sort for this task.

import java.io.File;
import java.util.Scanner;

public class Program
{
    public static void main(String[] args) throws Exception
    {
        File file = new File("scores10.txt");
        Scanner input = new Scanner(file);

        int[] original = new int[10];

        for (int i = 0; i < original.length; i++)
        {
            original[i] = input.nextInt();
        }

        input.close();

        int[] sorted = copyArray(original);

        // Choose ONE:
        // selectionSort(sorted);
        insertionSort(sorted);

        System.out.println("Original:");
        printArray(original);

        System.out.println("Sorted:");
        printArray(sorted);
    }

    public static int[] copyArray(int[] arr)
    {
        int[] copy = new int[arr.length];

        for (int i = 0; i < arr.length; i++)
        {
            copy[i] = arr[i];
        }

        return copy;
    }

    public static void insertionSort(int[] arr)
    {
        for (int i = 1; i < arr.length; i++)
        {
            int elementToInsert = arr[i];
            int j = i;

            while (j > 0 && elementToInsert < arr[j - 1])
            {
                arr[j] = arr[j - 1];
                j--;
            }

            arr[j] = elementToInsert;
        }
    }

    public static void selectionSort(int[] arr)
    {
        for (int i = 0; i < arr.length - 1; i++)
        {
            int minIndex = i;

            for (int j = i + 1; j < arr.length; j++)
            {
                if (arr[j] < arr[minIndex])
                {
                    minIndex = j;
                }
            }

            int temp = arr[i];
            arr[i] = arr[minIndex];
            arr[minIndex] = temp;
        }
    }

    public static void printArray(int[] arr)
    {
        for (int v : arr)
        {
            System.out.print(v + " ");
        }
        System.out.println();
    }
}
`;

const Task4 = `// Task 4 — Mini Dataset: Gradebook from a file (practical)
//
// Create a file named: gradebook.txt
// Format (exactly like this):
//
// Ava 90 82 88 100
// Ben 70 85 79 92
// Chris 95 91 93 89
//
// Program requirements:
// 1) Read each student name (String) and 4 integer scores
// 2) Print each student's average
// 3) Track and print the highest average student's name
//
// Hint: Use hasNext() and read name with next()

import java.io.File;
import java.util.Scanner;

public class Program
{
    public static void main(String[] args) throws Exception
    {
        File file = new File("gradebook.txt");
        Scanner input = new Scanner(file);

        String bestName = "";
        double bestAvg = -1;

        while (input.hasNext())
        {
            String name = input.next();

            int s1 = input.nextInt();
            int s2 = input.nextInt();
            int s3 = input.nextInt();
            int s4 = input.nextInt();

            int sum = s1 + s2 + s3 + s4;
            double avg = sum / 4.0;

            System.out.println(name + " average: " + avg);

            if (avg > bestAvg)
            {
                bestAvg = avg;
                bestName = name;
            }
        }

        input.close();

        System.out.println("Top average: " + bestName + " (" + bestAvg + ")");
    }
}
`;

const SampleOutput = `12
5
19
8
3
Count: 5

88 73 95 67 81 90 82 88 100 70
Sum: 834
Average: 83.4
Min: 67
Max: 100

Original:
88 73 95 67 81 90 82 88 100 70
Sorted:
67 70 73 81 82 88 88 90 95 100

Ava average: 90.0
Ben average: 81.5
Chris average: 92.0
Top average: Chris (92.0)
`;

//#endregion
---

<Layout>
  <div class="container my-4">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-10">
        <a href="/java-programming/" class="btn btn-sm btn-outline-light mb-3">
          <i class="si-arrow-left"></i> Back
        </a>

        <h1>Activity 5.9 — File Input with Scanner</h1>
        <Divider variant="8" classes="mb-4" />

        <!-- Introduction -->
        <h2>Introduction</h2>

        <Presentation>
          <section>
            <h3>Activity 5.9</h3>
            <h4 class="text-skynest-theme">Reading Data from Text Files</h4>
          </section>

          <section>
            <h4>Why read from a file?</h4>
            <ul>
              <li>Real programs often process data that already exists.</li>
              <li>A file is like “pre-entered input” you can reuse anytime.</li>
              <li>We can analyze, sort, and summarize file data with arrays.</li>
            </ul>
          </section>

          <section>
            <h4>What changes vs console input?</h4>
            <ul>
              <li>Console input uses <code>new Scanner(System.in)</code></li>
              <li>File input uses <code>new Scanner(new File("name.txt"))</code></li>
              <li>You still use <code>nextInt()</code>, <code>next()</code>, etc.</li>
            </ul>
          </section>

          <section>
            <h4>File Scanner Setup</h4>
            <ul>
              <li>Create the file in your project folder.</li>
              <li>Open it with <code>File</code> + <code>Scanner</code>.</li>
              <li>Always close the scanner when done.</li>
            </ul>
            <Code code={Figure1} lang="java" title="File Scanner Setup" />
          </section>

          <section>
            <h4>Reading safely: check before reading</h4>
            <ul>
              <li><code>hasNextInt()</code> checks if the next token is an integer</li>
              <li><code>hasNext()</code> checks if there is another token</li>
              <li>This prevents reading past the end of the file</li>
            </ul>
            <Code code={Figure2} lang="java" title="hasNext()" />
          </section>

          <section>
            <h4>Two common patterns</h4>
            <ul>
              <li><strong>Fixed-size files</strong>: you know how many values are coming</li>
              <li><strong>Unknown-size files</strong>: you read until you run out of data</li>
            </ul>
            <Code code={Figure3} lang="java" title="Fixed size into an array" />
          </section>

          <section>
            <h4>Data Processing Workflow</h4>
            <ul>
              <li>Read data into an array</li>
              <li>Compute stats (sum/avg/min/max)</li>
              <li>Optionally copy and sort a separate array</li>
              <li>Print useful results</li>
            </ul>
          </section>

          <section>
            <h4>Common mistakes</h4>
            <ul>
              <li>File name mismatch (wrong spelling or wrong folder)</li>
              <li>Reading ints when the next token is text</li>
              <li>Forgetting to close the scanner</li>
              <li>Assuming the file has the exact format you expect</li>
            </ul>
          </section>

          <section>
            <h4>Today’s tasks</h4>
            <ul>
              <li>Warmup: read numbers and count them</li>
              <li>Read 10 scores into an array + stats</li>
              <li>Copy + sort file data (using your sorting algorithm)</li>
              <li>Read a mini gradebook dataset (names + scores)</li>
            </ul>
          </section>
        </Presentation>

        <section id="objectives">
          <h3>Objectives</h3>
          <ul>
            <ListItem>Read integers and strings from a text file using <code>Scanner</code>.</ListItem>
            <ListItem>Use <code>hasNext</code> methods to safely read file data.</ListItem>
            <ListItem>Store file data into arrays for processing.</ListItem>
            <ListItem>Compute summary statistics and sort a copied dataset.</ListItem>
          </ul>
        </section>

        <Divider variant="8" classes="mb-4" />

        <section id="activity-tasks">
          <h2>Activity Tasks</h2>
          <ul>
            <ListItem variant="2">
              Create a new project named <span class="text-skynest-theme">Activity5_9_FileInput</span>.
            </ListItem>
            <ListItem variant="2">Complete Tasks 1–4.</ListItem>
            <ListItem variant="2">
              Create the required text files in the same folder as your <code>.java</code> file.
            </ListItem>
          </ul>

          <!-- Figures -->
          <h3>
            <span class="text-skynest-theme">Figures</span>: Reference Examples
          </h3>

          <Code code={Figure1} frame="code" lang="java" title="Figure 1 — File Scanner Setup" />
          <Code code={Figure3} frame="code" lang="java" title="Figure 2 — Fixed-size file into an array" />
          <Code code={Figure4} frame="code" lang="java" title="Figure 3 — Helpful Utilities" />

          <hr class="my-4" />

          <!-- Task 1 -->
          <h3>
            <span class="text-skynest-theme">Task 1</span>: Read + Count Numbers
          </h3>
          <ul>
            <ListItem variant="2">Create <code>numbers.txt</code> with one integer per line.</ListItem>
            <ListItem variant="2">Read until the file ends and count how many values you read.</ListItem>
          </ul>
          <Code code={Task1} frame="code" lang="java" title="Task 1 — Read + Count" />

          <hr class="my-4" />

          <!-- Task 2 -->
          <h3>
            <span class="text-skynest-theme">Task 2</span>: Read 10 Values into an Array + Stats
          </h3>
          <ul>
            <ListItem variant="2">Create <code>scores10.txt</code> with exactly 10 integers.</ListItem>
            <ListItem variant="2">Read all 10 into an array, then compute stats.</ListItem>
          </ul>
          <Code code={Task2} frame="code" lang="java" title="Task 2 — Array Stats" />

          <hr class="my-4" />

          <!-- Task 3 -->
          <h3>
            <span class="text-skynest-theme">Task 3</span>: Copy + Sort File Data
          </h3>
          <ul>
            <ListItem variant="2">Copy the array so you preserve original order.</ListItem>
            <ListItem variant="2">Sort the copy using selection or insertion sort from Activity 5.8.</ListItem>
            <ListItem variant="2">Print both arrays.</ListItem>
          </ul>
          <Code code={Task3} frame="code" lang="java" title="Task 3 — Copy + Sort" />

          <hr class="my-4" />

          <!-- Task 4 -->
          <h3>
            <span class="text-skynest-theme">Task 4</span>: Gradebook Dataset (Names + Scores)
          </h3>
          <ul>
            <ListItem variant="2">Create <code>gradebook.txt</code> using the format shown in the task.</ListItem>
            <ListItem variant="2">Read each record and print each student’s average.</ListItem>
            <ListItem variant="2">Track and print the student with the highest average.</ListItem>
          </ul>
          <Code code={Task4} frame="code" lang="java" title="Task 4 — Gradebook from file" />
        </section>

        <Divider variant="8" classes="my-4" />

        <section id="sample-output">
          <h2>Sample Output</h2>

          <p>Your program output should something similar to the sample output below.</p>

          <Code
            code={SampleOutput}
            frame="terminal"
            lang="txt"
            showLineNumbers={false}
            title="Sample Output"
          />
        </section>

        <Divider variant="8" classes="my-4" />

        <section id="reflection">
          <h2>Reflection Questions</h2>

          <p>You may write your reflection answers as comments at the bottom of your code.</p>

          <ol>
            <li>Why do we use <code>hasNextInt()</code> (or <code>hasNext()</code>) before reading?</li>
            <li>What happens if the file name is wrong or the file is not in the correct folder?</li>
            <li>Why did Task 3 copy the array before sorting?</li>
            <li>In Task 4, why do we read the name with <code>next()</code> but scores with <code>nextInt()</code>?</li>
            <li>Give one reason file input can be better than typing values into the console.</li>
          </ol>
        </section>

        <Divider variant="8" classes="my-4" />

        <section id="submission">
          <h2>Submission</h2>

          <p>Submit your activity and reflection answers to the appropriate dropbox.</p>

          <h1 class="text-center mt-5 text-skynest-theme border border-primary">
            Activity Complete
          </h1>
        </section>
      </div>
    </div>
  </div>
</Layout>
